{"data":{"_id":55000,"properties":{"invoiceId":{"name":"invoiceId","kind":"scalar","primary":true,"type":"uuid","defaultRaw":"uuid_generate_v4()","array":false,"runtimeType":"string"},"org":{"name":"org","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","primary":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["org_id"],"type":"Organizations","array":false,"runtimeType":"Organizations"},"location":{"name":"location","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["location_id"],"type":"Locations","array":false,"runtimeType":"Locations"},"invoiceNumber":{"name":"invoiceNumber","kind":"scalar","length":50,"getter":false,"setter":false,"type":"string","array":false,"runtimeType":"string"},"invoiceDate":{"name":"invoiceDate","kind":"scalar","primary":true,"type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","array":false,"runtimeType":"Date"},"dueDate":{"name":"dueDate","kind":"scalar","type":"date","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"orderId":{"name":"orderId","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"customer":{"name":"customer","kind":"m:1","cascade":["persist"],"owner":true,"createForeignKeyConstraint":true,"fieldNames":["customer_id"],"type":"Customers","array":false,"runtimeType":"Customers"},"invoiceStatus":{"name":"invoiceStatus","kind":"scalar","enum":true,"items":["draft","sent","viewed","partial","paid","overdue","void","cancelled"],"type":"string","default":"draft","runtimeType":"string","array":false},"currency":{"name":"currency","kind":"scalar","type":"character","length":3,"getter":false,"setter":false,"default":"NGN","array":false,"runtimeType":"string"},"exchangeRate":{"name":"exchangeRate","kind":"scalar","type":"decimal","precision":18,"scale":6,"nullable":true,"defaultRaw":"1.0","getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"subtotal":{"name":"subtotal","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"discountAmount":{"name":"discountAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"taxAmount":{"name":"taxAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"totalAmount":{"name":"totalAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"paidAmount":{"name":"paidAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"balanceDue":{"name":"balanceDue","kind":"scalar","type":"decimal","precision":18,"scale":4,"generated":"(total_amount - paid_amount) stored","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"notes":{"name":"notes","kind":"scalar","type":"text","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"createdAt":{"name":"createdAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"updatedAt":{"name":"updatedAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"createdBy":{"name":"createdBy","kind":"scalar","type":"uuid","getter":false,"setter":false,"array":false,"runtimeType":"string"},"updatedBy":{"name":"updatedBy","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"}},"primaryKeys":["invoiceId","org","invoiceDate"],"filters":{},"hooks":{},"indexes":[{"name":"idx_invoices_status","properties":["org","invoiceStatus","invoiceDate"]},{"name":"idx_invoices_location","properties":["location","invoiceDate"]},{"name":"idx_invoices_invoice_number","properties":["org","invoiceNumber"]},{"name":"idx_invoices_due_date","expression":"CREATE INDEX idx_invoices_due_date ON ONLY sales.invoices USING btree (org_id, due_date) WHERE ((invoice_status)::text = ANY ((ARRAY['sent'::character varying, 'partial'::character varying, 'overdue'::character varying])::text[]))","properties":["org","dueDate"]},{"name":"idx_invoices_customer","properties":["customer","invoiceDate"]}],"uniques":[],"className":"Invoices","path":"./src/db/entities/Invoices.ts","schema":"sales","comment":"Customer invoices with payment tracking, partitioned by invoice date","name":"Invoices","abstract":false,"internal":true,"constructorParams":[],"toJsonParams":[],"useCache":true,"compositePK":true,"simplePK":false,"collection":"invoices"},"origin":"./src/db/entities/Invoices.ts","hash":"d0de36daae49a50becdfc17d539b3aa0","version":"6.5.7"}
