{"data":{"_id":111000,"properties":{"movementId":{"name":"movementId","kind":"scalar","primary":true,"type":"uuid","defaultRaw":"uuid_generate_v4()","array":false,"runtimeType":"string"},"org":{"name":"org","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["org_id"],"type":"Organizations","array":false,"runtimeType":"Organizations"},"product":{"name":"product","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["product_id"],"type":"Products","array":false,"runtimeType":"Products"},"warehouse":{"name":"warehouse","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["warehouse_id"],"type":"Warehouses","array":false,"runtimeType":"Warehouses"},"movementType":{"name":"movementType","kind":"scalar","enum":true,"items":["RECEIPT","ISSUE","TRANSFER_OUT","TRANSFER_IN","ADJUSTMENT","RETURN","SALE","PURCHASE","WRITE_OFF"],"type":"StockMovementsMovementType","array":false,"runtimeType":"StockMovementsMovementType"},"movementDate":{"name":"movementDate","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"batchNumber":{"name":"batchNumber","kind":"scalar","length":100,"nullable":true,"getter":false,"setter":false,"type":"string","array":false,"optional":true,"runtimeType":"string"},"serialNumber":{"name":"serialNumber","kind":"scalar","length":100,"nullable":true,"getter":false,"setter":false,"type":"string","array":false,"optional":true,"runtimeType":"string"},"quantity":{"name":"quantity","kind":"scalar","type":"decimal","precision":18,"scale":4,"getter":false,"setter":false,"array":false,"runtimeType":"string"},"unitCost":{"name":"unitCost","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"totalCost":{"name":"totalCost","kind":"scalar","type":"decimal","precision":18,"scale":4,"generated":"(abs(quantity) * unit_cost) stored","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"referenceType":{"name":"referenceType","kind":"scalar","length":50,"nullable":true,"getter":false,"setter":false,"type":"string","array":false,"optional":true,"runtimeType":"string"},"referenceId":{"name":"referenceId","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"notes":{"name":"notes","kind":"scalar","type":"text","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"createdAt":{"name":"createdAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"createdBy":{"name":"createdBy","kind":"scalar","type":"uuid","getter":false,"setter":false,"array":false,"runtimeType":"string"}},"primaryKeys":["movementId"],"filters":{},"hooks":{},"indexes":[{"name":"idx_stock_movements_batch","expression":"CREATE INDEX idx_stock_movements_batch ON ONLY inventory.stock_movements USING btree (batch_number) WHERE (batch_number IS NOT NULL)","properties":"batchNumber"},{"name":"idx_stock_movements_warehouse","properties":["warehouse","movementDate"]},{"name":"idx_stock_movements_reference","properties":["referenceType","referenceId"]},{"name":"idx_stock_movements_org_product","properties":["org","product","movementDate"]}],"uniques":[],"className":"StockMovements","path":"./src/db/entities/StockMovements.ts","schema":"inventory","comment":"Partitioned transaction log of all inventory movements (receipts, issues, transfers, adjustments)","name":"StockMovements","abstract":false,"internal":true,"constructorParams":[],"toJsonParams":[],"useCache":true,"compositePK":false,"simplePK":true,"collection":"stock_movements"},"origin":"./src/db/entities/StockMovements.ts","hash":"e5b6f134a266fe35dc4f9e2d03b6a748","version":"6.5.7"}
