{"data":{"_id":109000,"properties":{"stockBalanceId":{"name":"stockBalanceId","kind":"scalar","primary":true,"type":"uuid","defaultRaw":"uuid_generate_v4()","array":false,"runtimeType":"string"},"org":{"name":"org","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["org_id"],"type":"Organizations","array":false,"runtimeType":"Organizations"},"product":{"name":"product","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["product_id"],"type":"Products","array":false,"runtimeType":"Products"},"warehouse":{"name":"warehouse","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","index":"idx_stock_balances_warehouse","owner":true,"createForeignKeyConstraint":true,"fieldNames":["warehouse_id"],"type":"Warehouses","array":false,"runtimeType":"Warehouses"},"batchNumber":{"name":"batchNumber","kind":"scalar","length":100,"nullable":true,"getter":false,"setter":false,"type":"string","array":false,"optional":true,"runtimeType":"string"},"serialNumber":{"name":"serialNumber","kind":"scalar","length":100,"nullable":true,"getter":false,"setter":false,"type":"string","array":false,"optional":true,"runtimeType":"string"},"expiryDate":{"name":"expiryDate","kind":"scalar","type":"date","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"quantityOnHand":{"name":"quantityOnHand","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"quantityReserved":{"name":"quantityReserved","kind":"scalar","type":"decimal","precision":18,"scale":4,"comment":"Quantity allocated to orders but not yet fulfilled","defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"quantityAvailable":{"name":"quantityAvailable","kind":"scalar","type":"decimal","precision":18,"scale":4,"generated":"(quantity_on_hand - quantity_reserved) stored","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"averageCost":{"name":"averageCost","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"lastCost":{"name":"lastCost","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"updatedAt":{"name":"updatedAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"}},"primaryKeys":["stockBalanceId"],"filters":{},"hooks":{},"indexes":[{"name":"idx_stock_balances_batch","expression":"CREATE INDEX idx_stock_balances_batch ON inventory.stock_balances USING btree (batch_number) WHERE (batch_number IS NOT NULL)","properties":"batchNumber"},{"name":"idx_stock_balances_serial","expression":"CREATE INDEX idx_stock_balances_serial ON inventory.stock_balances USING btree (serial_number) WHERE (serial_number IS NOT NULL)","properties":"serialNumber"},{"name":"idx_stock_balances_expiry","expression":"CREATE INDEX idx_stock_balances_expiry ON inventory.stock_balances USING btree (expiry_date) WHERE (expiry_date IS NOT NULL)","properties":"expiryDate"},{"name":"idx_stock_balances_org_product","properties":["org","product"]}],"uniques":[{"name":"stock_balances_org_id_product_id_warehouse_id_batch_number__key","properties":["org","product","warehouse","batchNumber","serialNumber"]}],"className":"StockBalances","path":"./src/db/entities/StockBalances.ts","schema":"inventory","comment":"Real-time stock quantities with batch/lot tracking and reservations","name":"StockBalances","abstract":false,"internal":true,"constructorParams":[],"toJsonParams":[],"useCache":true,"compositePK":false,"simplePK":true,"collection":"stock_balances"},"origin":"./src/db/entities/StockBalances.ts","hash":"218423807e42f93db7d8993ac45df7dd","version":"6.5.7"}
