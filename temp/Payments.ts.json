{"data":{"_id":84000,"properties":{"paymentId":{"name":"paymentId","kind":"scalar","primary":true,"type":"uuid","defaultRaw":"uuid_generate_v4()","array":false,"runtimeType":"string"},"org":{"name":"org","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","primary":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["org_id"],"type":"Organizations","array":false,"runtimeType":"Organizations"},"location":{"name":"location","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["location_id"],"type":"Locations","array":false,"runtimeType":"Locations"},"paymentNumber":{"name":"paymentNumber","kind":"scalar","length":50,"getter":false,"setter":false,"type":"string","array":false,"runtimeType":"string"},"paymentDate":{"name":"paymentDate","kind":"scalar","primary":true,"type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","array":false,"runtimeType":"Date"},"customer":{"name":"customer","kind":"m:1","cascade":["persist"],"owner":true,"createForeignKeyConstraint":true,"fieldNames":["customer_id"],"type":"Customers","array":false,"runtimeType":"Customers"},"paymentMethod":{"name":"paymentMethod","kind":"m:1","cascade":["persist"],"owner":true,"createForeignKeyConstraint":true,"fieldNames":["payment_method_id"],"type":"PaymentMethods","array":false,"runtimeType":"PaymentMethods"},"invoiceId":{"name":"invoiceId","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"referenceNumber":{"name":"referenceNumber","kind":"scalar","length":100,"nullable":true,"getter":false,"setter":false,"type":"string","array":false,"optional":true,"runtimeType":"string"},"currency":{"name":"currency","kind":"scalar","type":"character","length":3,"getter":false,"setter":false,"default":"NGN","array":false,"runtimeType":"string"},"exchangeRate":{"name":"exchangeRate","kind":"scalar","type":"decimal","precision":18,"scale":6,"nullable":true,"defaultRaw":"1.0","getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"amount":{"name":"amount","kind":"scalar","type":"decimal","precision":18,"scale":4,"getter":false,"setter":false,"array":false,"runtimeType":"string"},"amountBaseCurrency":{"name":"amountBaseCurrency","kind":"scalar","type":"decimal","precision":18,"scale":4,"generated":"(amount * exchange_rate) stored","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"paymentStatus":{"name":"paymentStatus","kind":"scalar","enum":true,"items":["pending","completed","failed","reversed"],"type":"string","default":"completed","runtimeType":"string","array":false},"notes":{"name":"notes","kind":"scalar","type":"text","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"createdAt":{"name":"createdAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"updatedAt":{"name":"updatedAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"createdBy":{"name":"createdBy","kind":"scalar","type":"uuid","getter":false,"setter":false,"array":false,"runtimeType":"string"},"updatedBy":{"name":"updatedBy","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"}},"primaryKeys":["paymentId","org","paymentDate"],"filters":{},"hooks":{},"indexes":[{"name":"idx_payments_invoice","expression":"CREATE INDEX idx_payments_invoice ON ONLY sales.payments USING btree (invoice_id) WHERE (invoice_id IS NOT NULL)","properties":"invoiceId"},{"name":"idx_payments_reference","expression":"CREATE INDEX idx_payments_reference ON ONLY sales.payments USING btree (reference_number) WHERE (reference_number IS NOT NULL)","properties":"referenceNumber"},{"name":"idx_payments_payment_number","properties":["org","paymentNumber"]},{"name":"idx_payments_location","properties":["location","paymentDate"]},{"name":"idx_payments_customer","properties":["customer","paymentDate"]}],"uniques":[],"className":"Payments","path":"./src/db/entities/Payments.ts","schema":"sales","comment":"Customer payments linked to invoices, partitioned by payment date","name":"Payments","abstract":false,"internal":true,"constructorParams":[],"toJsonParams":[],"useCache":true,"compositePK":true,"simplePK":false,"collection":"payments"},"origin":"./src/db/entities/Payments.ts","hash":"3ee6ed46316f141184a5de01e5e3a621","version":"6.5.7"}
