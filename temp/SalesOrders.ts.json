{"data":{"_id":98000,"properties":{"orderId":{"name":"orderId","kind":"scalar","primary":true,"type":"uuid","defaultRaw":"uuid_generate_v4()","array":false,"runtimeType":"string"},"org":{"name":"org","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","primary":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["org_id"],"type":"Organizations","array":false,"runtimeType":"Organizations"},"location":{"name":"location","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["location_id"],"type":"Locations","array":false,"runtimeType":"Locations"},"channel":{"name":"channel","kind":"m:1","cascade":["persist"],"owner":true,"createForeignKeyConstraint":true,"fieldNames":["channel_id"],"type":"Channels","array":false,"runtimeType":"Channels"},"orderNumber":{"name":"orderNumber","kind":"scalar","length":50,"getter":false,"setter":false,"type":"string","array":false,"runtimeType":"string"},"orderDate":{"name":"orderDate","kind":"scalar","primary":true,"type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","array":false,"runtimeType":"Date"},"customer":{"name":"customer","kind":"m:1","cascade":["persist"],"owner":true,"createForeignKeyConstraint":true,"fieldNames":["customer_id"],"type":"Customers","array":false,"runtimeType":"Customers"},"priceList":{"name":"priceList","kind":"m:1","cascade":["persist"],"nullable":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["price_list_id"],"type":"PriceLists","array":false,"optional":true,"runtimeType":"PriceLists"},"orderStatus":{"name":"orderStatus","kind":"scalar","enum":true,"items":["draft","confirmed","processing","ready","dispatched","delivered","completed","cancelled"],"type":"string","default":"draft","runtimeType":"string","array":false},"currency":{"name":"currency","kind":"scalar","type":"character","length":3,"getter":false,"setter":false,"default":"NGN","array":false,"runtimeType":"string"},"exchangeRate":{"name":"exchangeRate","kind":"scalar","type":"decimal","precision":18,"scale":6,"nullable":true,"defaultRaw":"1.0","getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"subtotal":{"name":"subtotal","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"discountAmount":{"name":"discountAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"taxAmount":{"name":"taxAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"totalAmount":{"name":"totalAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"paidAmount":{"name":"paidAmount","kind":"scalar","type":"decimal","precision":18,"scale":4,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"balanceDue":{"name":"balanceDue","kind":"scalar","type":"decimal","precision":18,"scale":4,"generated":"(total_amount - paid_amount) stored","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"notes":{"name":"notes","kind":"scalar","type":"text","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"salesperson":{"name":"salesperson","kind":"m:1","cascade":["persist"],"nullable":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["salesperson_id"],"type":"Users","array":false,"optional":true,"runtimeType":"Users"},"createdAt":{"name":"createdAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"updatedAt":{"name":"updatedAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"createdBy":{"name":"createdBy","kind":"scalar","type":"uuid","getter":false,"setter":false,"array":false,"runtimeType":"string"},"updatedBy":{"name":"updatedBy","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"}},"primaryKeys":["orderId","org","orderDate"],"filters":{},"hooks":{},"indexes":[{"name":"idx_sales_orders_status","properties":["org","orderStatus","orderDate"]},{"name":"idx_sales_orders_salesperson","properties":["salesperson","orderDate"]},{"name":"idx_sales_orders_order_number","properties":["org","orderNumber"]},{"name":"idx_sales_orders_location","properties":["location","orderDate"]},{"name":"idx_sales_orders_customer","properties":["customer","orderDate"]},{"name":"idx_sales_orders_channel","properties":["channel","orderDate"]}],"uniques":[],"className":"SalesOrders","path":"./src/db/entities/SalesOrders.ts","schema":"sales","comment":"Sales orders across all channels, partitioned by order date for performance","name":"SalesOrders","abstract":false,"internal":true,"constructorParams":[],"toJsonParams":[],"useCache":true,"compositePK":true,"simplePK":false,"collection":"sales_orders"},"origin":"./src/db/entities/SalesOrders.ts","hash":"cb27ab2167b6c4c1321497a742506ff6","version":"6.5.7"}
