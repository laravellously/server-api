{"data":{"_id":14000,"properties":{"opportunityId":{"name":"opportunityId","kind":"scalar","primary":true,"type":"uuid","defaultRaw":"uuid_generate_v4()","array":false,"runtimeType":"string"},"org":{"name":"org","kind":"m:1","cascade":["persist"],"deleteRule":"cascade","owner":true,"createForeignKeyConstraint":true,"fieldNames":["org_id"],"type":"Organizations","array":false,"runtimeType":"Organizations"},"location":{"name":"location","kind":"m:1","cascade":["persist"],"nullable":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["location_id"],"type":"Locations","array":false,"optional":true,"runtimeType":"Locations"},"opportunityNumber":{"name":"opportunityNumber","kind":"scalar","length":50,"getter":false,"setter":false,"type":"string","array":false,"runtimeType":"string"},"opportunityName":{"name":"opportunityName","kind":"scalar","getter":false,"setter":false,"type":"string","array":false,"runtimeType":"string"},"customer":{"name":"customer","kind":"m:1","cascade":["persist"],"nullable":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["customer_id"],"type":"Customers","array":false,"optional":true,"runtimeType":"Customers"},"lead":{"name":"lead","kind":"m:1","cascade":["persist"],"nullable":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["lead_id"],"type":"Leads","array":false,"optional":true,"runtimeType":"Leads"},"stage":{"name":"stage","kind":"m:1","cascade":["persist"],"owner":true,"createForeignKeyConstraint":true,"fieldNames":["stage_id"],"type":"OpportunityStages","array":false,"runtimeType":"OpportunityStages"},"assignedTo":{"name":"assignedTo","kind":"m:1","cascade":["persist"],"nullable":true,"owner":true,"createForeignKeyConstraint":true,"fieldNames":["assigned_to"],"type":"Users","array":false,"optional":true,"runtimeType":"Users"},"expectedValue":{"name":"expectedValue","kind":"scalar","type":"decimal","precision":18,"scale":2,"defaultRaw":"0","getter":false,"setter":false,"array":false,"runtimeType":"string"},"probability":{"name":"probability","kind":"scalar","type":"decimal","precision":5,"scale":2,"nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"expectedCloseDate":{"name":"expectedCloseDate","kind":"scalar","type":"date","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"actualCloseDate":{"name":"actualCloseDate","kind":"scalar","type":"date","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"currency":{"name":"currency","kind":"scalar","type":"character","length":3,"getter":false,"setter":false,"default":"NGN","array":false,"runtimeType":"string"},"isClosed":{"name":"isClosed","kind":"scalar","type":"boolean","getter":false,"setter":false,"default":false,"array":false,"runtimeType":"boolean"},"isWon":{"name":"isWon","kind":"scalar","type":"boolean","getter":false,"setter":false,"default":false,"array":false,"runtimeType":"boolean"},"closedReason":{"name":"closedReason","kind":"scalar","type":"text","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"notes":{"name":"notes","kind":"scalar","type":"text","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"createdAt":{"name":"createdAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"updatedAt":{"name":"updatedAt","kind":"scalar","type":"datetime","defaultRaw":"CURRENT_TIMESTAMP","getter":false,"setter":false,"array":false,"runtimeType":"Date"},"deletedAt":{"name":"deletedAt","kind":"scalar","nullable":true,"getter":false,"setter":false,"type":"Date","array":false,"optional":true,"runtimeType":"Date"},"createdBy":{"name":"createdBy","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"},"updatedBy":{"name":"updatedBy","kind":"scalar","type":"uuid","nullable":true,"getter":false,"setter":false,"array":false,"optional":true,"runtimeType":"string"}},"primaryKeys":["opportunityId"],"filters":{},"hooks":{},"indexes":[{"name":"idx_opportunities_org","expression":"CREATE INDEX idx_opportunities_org ON crm.opportunities USING btree (org_id) WHERE (deleted_at IS NULL)","properties":"org"},{"name":"idx_opportunities_location","expression":"CREATE INDEX idx_opportunities_location ON crm.opportunities USING btree (location_id) WHERE (deleted_at IS NULL)","properties":"location"},{"name":"idx_opportunities_customer","expression":"CREATE INDEX idx_opportunities_customer ON crm.opportunities USING btree (customer_id) WHERE (deleted_at IS NULL)","properties":"customer"},{"name":"idx_opportunities_stage","expression":"CREATE INDEX idx_opportunities_stage ON crm.opportunities USING btree (stage_id) WHERE (deleted_at IS NULL)","properties":"stage"},{"name":"idx_opportunities_assigned","expression":"CREATE INDEX idx_opportunities_assigned ON crm.opportunities USING btree (assigned_to) WHERE (deleted_at IS NULL)","properties":"assignedTo"},{"name":"idx_opportunities_close_date","expression":"CREATE INDEX idx_opportunities_close_date ON crm.opportunities USING btree (org_id, expected_close_date) WHERE (NOT is_closed)","properties":["org","expectedCloseDate"]}],"uniques":[{"name":"opportunities_org_id_opportunity_number_key","properties":["org","opportunityNumber"]}],"className":"Opportunities","path":"./src/db/entities/Opportunities.ts","schema":"crm","comment":"Sales opportunities with pipeline tracking","name":"Opportunities","abstract":false,"internal":true,"constructorParams":[],"toJsonParams":[],"useCache":true,"compositePK":false,"simplePK":true,"collection":"opportunities"},"origin":"./src/db/entities/Opportunities.ts","hash":"15748ab7840aa77d90af140e4fbf2546","version":"6.5.7"}
